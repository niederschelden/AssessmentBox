<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Balance Error Scoring System (BESS)</title>
    <link rel="stylesheet" href="style.css" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="AssessmentBox" />
    <link rel="apple-touch-icon" sizes="120x120" href="icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="icon-167x167.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="icon-180x180.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192x192.png" />
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512x512.png" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="manifest" href="https://niederschelden.github.io/AssessmentBox/Assessmentbox/data/manifest.json" />
  </head>

  <body>
    <header>
      <img src="./logo.png" alt="Logo von…" />
      <a href="index.html">Zurück</a>
    </header>

    <main>
      <h1>Balance Error Scoring System (BESS)</h1>

      <div class="instructions">
        <h2>Zielsetzung:</h2>
        <p>Ziel dieses Tests ist es, Deine Gleichgewichtsfähigkeit und Sprunggelenksstabilität zu überprüfen.</p>

        <h2>Materialbedarf:</h2>
        <ul>
          <li>Ein fester und ein instabiler Untergrund</li>
          <li>Stoppuhr</li>
          <li>Dokumentationstabelle für Fehler</li>
        </ul>

        <h2>Anleitung:</h2>
        <ul>
          <li>Führe den Test barfuß und in kurzer Hose durch.</li>
          <li>Der Test umfasst sechs verschiedene Ausgangspositionen, ausgeführt auf festem und instabilem Untergrund.</li>
          <li>Der Test sollte idealerweise mit geschlossenen Augen durchgeführt werden. Falls dies nicht möglich ist, dokumentiere dies entsprechend.</li>
          <li>Halte die Hände während des Tests an der Hüfte.</li>
          <li>Jede Position soll 20 Sekunden lang gehalten werden, währenddessen werden Fehler gezählt.</li>
          <li>Die maximale Fehleranzahl pro Position ist auf 10 begrenzt.</li>
        </ul>
      </div>
      <div class="other">
        <h2>Testdurchführung:</h2>
        <button type="button" id="startStopButton">Start Countdown</button>
        <input type="text" id="countdown" value="20" readonly />
        <h2>Auswertung:</h2>
      </div>
      <div class="results-table">
        <table id="stabilTable">
          <tr>
            <th colspan="3">Stabil</th>
          </tr>
          <tr>
            <th>ASTE</th>
            <th>Fehler</th>
          </tr>
          <tr>
            <td>Beidbeinig</td>
            <td><input type="number" name="beidbeinig[]" /></td>
          </tr>
          <tr>
            <td>Einbeinig rechts</td>
            <td><input type="number" name="rechts[]" /></td>
          </tr>
          <tr>
            <td>Einbeinig links</td>
            <td><input type="number" name="links[]" /></td>
          </tr>
          <tr>
            <td>Tandemstand rechts hinten</td>
            <td><input type="number" name="rechts[]" /></td>
          </tr>
          <tr>
            <td>Tandemstand links hinten</td>
            <td><input type="number" name="links[]" /></td>
          </tr>
          <!-- ... Weitere Zeilen für die Positionen ... -->
          <tr>
            <td>Summe rechts</td>
            <td><input type="number" name="summeRechts" readonly /></td>
          </tr>
          <tr>
            <td>Summe links</td>
            <td><input type="number" name="summeLinks" readonly /></td>
          </tr>
        </table>
      </div>
      <div class="results-table">
        <table id="instabilTable">
          <tr>
            <th colspan="3">Stabil</th>
          </tr>
          <tr>
            <th>ASTE</th>
            <th>Fehler</th>
          </tr>
          <tr>
            <td>Beidbeinig</td>
            <td><input type="number" name="beidbeinig[]" /></td>
          </tr>
          <tr>
            <td>Einbeinig rechts</td>
            <td><input type="number" name="rechts[]" /></td>
          </tr>
          <tr>
            <td>Einbeinig links</td>
            <td><input type="number" name="links[]" /></td>
          </tr>
          <tr>
            <td>Tandemstand rechts hinten</td>
            <td><input type="number" name="rechts[]" /></td>
          </tr>
          <tr>
            <td>Tandemstand links hinten</td>
            <td><input type="number" name="links[]" /></td>
          </tr>
          <!-- ... Weitere Zeilen für die Positionen ... -->
          <tr>
            <td>Summe rechts</td>
            <td><input type="number" name="summeRechts" readonly /></td>
          </tr>
          <tr>
            <td>Summe links</td>
            <td><input type="number" name="summeLinks" readonly /></td>
          </tr>
        </table>
      </div>
    </main>

    <footer>
      <h2>Quelle</h2>
      <p>
        VBG — Ihre gesetzliche Unfallversicherung. (2015, Mai). Diagnostik und Betreuung im Fußball. Version 1.1. Realisiert von orange cube Werbeagentur. Hamburg: VBG. S. 40f. Abgerufen am 26.
        November 2023, von
        <a href="https://www.vbg.de/SharedDocs/Medien-Center/DE/Broschuere/Branchen/Sport/diagnostik_und_betreuung_im_fussball.pdf?__blob=publicationFile&v=5"
          >https://www.vbg.de/SharedDocs/Medien-Center/DE/Broschuere/Branchen/Sport/diagnostik_und_betreuung_im_fussball.pdf?__blob=publicationFile&v=5</a
        >.
      </p>
    </footer>

    <script>
      // Konstante für die Countdown-Dauer
      const TIME_TO_GO = 20;

      // Base64-kodierte Audio-Daten
      var audioDataURL =
        "data:audio/wav;base64,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TurVe8qkb9kZQthBVWaay8uGfD/OR0hYH4zRhArhMQFRXBIhACEFESZiXB3N64T/+2DE9YAN0XtZ56BR4bccq32BrqQkiLYYViBGfNZrGVhgqP6ESYiWci2cbmV2UyB+Z3KMYVrr9DEAIXNxDVgWOFzs7xkmaRQltPtW6ekT56D4tgV5sVrAQFuR4e8qoZYNsfriehOhIwtIMgE4RBLFCEOTgoHkxcVMkVJ46vgvH7N6tocz95ghIQ/w4AAFK0uZ1V7MG7TGuV/VF/5FAw9v6G3pM7FOSYiMrH7alm27/1//o3Ss1OXu18YrnDxivtSZtWiL3bu5aja61wQQREDAAlgC09gMqhHqDVuRCUqqjLfp5RZhNmXjMu274aqxf49RdRn6NI56m7WV38ti5rh9uqJ55mn/+1DE/wAPKZtV7CCx6cg0av2FCqwpY5xom1p4kCOBxp01fbbe7bkaZVkIrIdv9B3RIKxwf+Ozud3UbyF7CkeH3lsrNyoaDbK2Va4c9wyzrHYgrdOtFkjU4LW47UcoohAoikigaiihb4IFXV3t+BGuv/7i4hm6i5bHLrbPPUyV3KXf//+LkrxDUJAfCZ5TAuCYx36AcCMTzmUw0ATucEIaC+bW6hYZeQoVSAZgiAVgRgFQ1FQgEAQAABxAFJzSzjPjf8xygKikLGFf5iCIKjmV//tgxOaADOi9V+eYruGdL2p88YphGABj/hzh0AKIefyUpQsYE8SpF/9ZXSvTSQP5+d3/5JS7ieK1Qn8zvLPv//ZDZzQWGP+rdCn///fO4DIA2qyaudQrZx///2qWGvsmYra4eSChXywDaKC5b2/mBZAcCjAfCDPAoa/r//llTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//tQxPcADckRV+esU6GgF6s+sIAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7UMTpABHw1z/5p4IAAAA0g4AABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="; // vollständige Base64-Daten

      // Erstelle ein Audio-Element mit der Base64-Daten-URL
      var buzzer = new Audio(audioDataURL);
      /*
        // Initialisiere den Buzzer beim Laden der Seite
        var buzzer = new Audio('buzzer.mp3');
        buzzer.preload = 'auto'; // Ermöglicht das Vorausladen des Buzzers
        */

      var countdownTimer;
      var isCountdownRunning = false;
      var timeLeft = TIME_TO_GO; // Verwende die Konstante für die initiale Zeit

      document.getElementById("startStopButton").addEventListener("click", toggleCountdown);

      function isIOSorSafari() {
        var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        return isIOS || isSafari;
      }

      function toggleCountdown() {
        if (isCountdownRunning) {
          stopCountdown();
        } else {
          startCountdown();
        }
      }

      function startCountdown() {
        // Spiele und pausiere den Buzzer, um ihn für iOS zu "aktivieren"
        buzzer
          .play()
          .then(() => {
            buzzer.pause();
            buzzer.currentTime = 0;
          })
          .catch((error) => console.error("Fehler beim Initialisieren des Buzzers:", error));

        timeLeft = TIME_TO_GO - 1;
        countdownTimer = setInterval(function () {
          if (timeLeft <= 0) {
            stopCountdown();
            document.getElementById("countdown").value = "Zeit abgelaufen!";
            playBuzzer(); // Spielt den Buzzer ab, je nach Browser
          } else {
            document.getElementById("countdown").value = timeLeft;
            timeLeft -= 1;
          }
        }, 1000);
        isCountdownRunning = true;
        document.getElementById("startStopButton").textContent = "Stoppe Countdown";
      }

      function playBuzzer() {
        if (isIOSorSafari()) {
          // Für iOS und Safari
          var buzzerClone = buzzer.cloneNode();
          buzzerClone.play().catch(function (error) {
            console.error("Fehler beim Abspielen des Buzzers:", error);
          });
        } else {
          // Für andere Browser
          buzzer.currentTime = 0;
          buzzer.play().catch(function (error) {
            console.error("Fehler beim Abspielen des Buzzers:", error);
          });
        }
      }

      function stopCountdown() {
        clearInterval(countdownTimer);
        isCountdownRunning = false;
        document.getElementById("startStopButton").textContent = "Start Countdown";
        document.getElementById("countdown").value = TIME_TO_GO;
      }

      function berechneSumme(tableId) {
        var sumRechts = 0;
        var sumLinks = 0;

        // Summiere die Werte für 'rechts'
        var inputsRechts = document.querySelectorAll("#" + tableId + ' input[name="rechts[]"]');
        inputsRechts.forEach(function (input) {
          sumRechts += parseInt(input.value) || 0;
        });

        // Summiere die Werte für 'links'
        var inputsLinks = document.querySelectorAll("#" + tableId + ' input[name="links[]"]');
        inputsLinks.forEach(function (input) {
          sumLinks += parseInt(input.value) || 0;
        });

        // Summiere die Werte für 'beidbeinig'
        var inputsBeidbeinig = document.querySelectorAll("#" + tableId + ' input[name="beidbeinig[]"]');
        inputsBeidbeinig.forEach(function (input) {
          var wert = parseInt(input.value) || 0;
          sumRechts += wert;
          sumLinks += wert;
        });

        // Finde die Summenfelder in der aktuellen Tabelle
        var summeRechtsField = document.querySelector("#" + tableId + ' input[name="summeRechts"]');
        var summeLinksField = document.querySelector("#" + tableId + ' input[name="summeLinks"]');

        // Setze die berechneten Summen
        summeRechtsField.value = sumRechts;
        summeLinksField.value = sumLinks;
      }

      // Event-Listener hinzufügen
      var inputs = document.querySelectorAll("#stabilTable input[type=number], #instabilTable input[type=number]");
      inputs.forEach(function (input) {
        input.addEventListener("change", function () {
          berechneSumme(this.closest("table").id);
        });
      });
    </script>
  </body>
</html>
